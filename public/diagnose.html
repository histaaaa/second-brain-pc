<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>æ•°æ®è¯Šæ–­</title>
    <style>
        body { font-family: monospace; background: #000; color: #0f0; padding: 20px; }
        pre { background: #111; padding: 15px; border-radius: 8px; overflow-x: auto; }
        .success { color: #0f0; }
        .error { color: #f00; }
        .info { color: #0ff; }
    </style>
</head>
<body>
    <h1>ğŸ” ç¬¬äºŒå¤§è„‘æ•°æ®è¯Šæ–­</h1>
    <p>è¯·æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…· (F12) æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º...</p>
    <pre id="output">æ­£åœ¨åŠ è½½...</pre>

    <script type="module">
        // ç”±äº ES Module åœ¨ file:// åè®®ä¸‹æœ‰ CORS é™åˆ¶
        // è¯·å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°åº”ç”¨çš„å¼€å‘è€…å·¥å…·æ§åˆ¶å°è¿è¡Œï¼š
        const code = `
// ============ åœ¨æ§åˆ¶å°è¿è¡Œæ­¤ä»£ç  ============
(async () => {
  try {
    // ä½¿ç”¨ fetch è·å–æ•°æ®
    const response = await fetch('/api/points');
    if (!response.ok) throw new Error('API ä¸å¯ç”¨');
    const points = await response.json();
    
    // ç»Ÿè®¡å„ç±»åˆ«æ•°é‡
    const categoryCount = {};
    points.forEach(p => {
      categoryCount[p.category] = (categoryCount[p.category] || 0) + 1;
    });
    
    console.log('========== æ•°æ®è¯Šæ–­ ==========');
    console.log('æ€»ç‚¹æ•°:', points.length);
    console.log('\\nå„ç±»åˆ«ç»Ÿè®¡:');
    
    const sorted = Object.entries(categoryCount).sort((a, b) => b[1] - a[1]);
    sorted.forEach(([cat, count]) => {
      console.log('  ' + cat + ': ' + count);
    });
    
    console.log('\\n=============================');
  } catch (err) {
    console.error('è¯Šæ–­å¤±è´¥:', err);
  }
})();
// ==========================================
`;
        
        document.getElementById('output').textContent = code;
        console.log('%cğŸ” è¯·åœ¨æ§åˆ¶å°æŸ¥çœ‹è¯Šæ–­ç»“æœ', 'font-size: 16px; color: #0ff;');
        console.log(code);
    </script>
</body>
</html>
